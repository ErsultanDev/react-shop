{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Cart","quantity","handleBasket","BasketItem","removeFromBasket","incrQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","index","itemId","newOrder","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kMAAA,SAASA,IACL,OACI,qBAAKC,UAAU,iBAAgB,SAC3B,sBAAKA,UAAU,cAAa,UACxB,mBAAGC,KAAK,IAAID,UAAU,aAAY,wBAGlC,oBAAIE,GAAG,aAAaF,UAAU,6BAA4B,SACtD,6BACI,mBACIC,KAAK,yCACLE,OAAO,SACPC,IAAI,aAAY,0BAS5C,CCrBA,SAASC,IACL,OACI,wBAAQL,UAAU,8BAA6B,SAC3C,qBAAKA,UAAU,mBAAkB,SAC7B,sBAAKA,UAAU,YAAW,mBACnB,IAAIM,MAAOC,cAAa,kBAC3B,mBACIP,UAAU,iCACVC,KAAK,yCACLG,IAAI,aACJD,OAAO,SAAQ,wBAQvC,C,yBClBA,SAASK,IACL,OACI,qBAAKR,UAAU,WAAU,SACrB,qBAAKA,UAAU,mBAG3B,CCNA,SAASS,EAAUC,GACjB,IACER,EAMEQ,EANFR,GACAS,EAKED,EALFC,KACAC,EAIEF,EAJFE,YACAC,EAGEH,EAHFG,MACAC,EAEEJ,EAFFI,gBAAgB,EAEdJ,EADFK,mBAAW,MAAGC,SAASC,UAAS,EAGlC,OACE,sBAAKjB,UAAU,OAAM,UACnB,qBAAKA,UAAU,aAAY,SACzB,qBAAKkB,IAAKJ,EAAiBK,IAAKR,MAElC,sBAAKX,UAAU,eAAc,UAC3B,sBAAMA,UAAU,aAAY,SAAEW,IAC9B,4BAAIC,OAEN,sBAAKZ,UAAU,cAAa,UAC1B,wBACEA,UAAU,MACVoB,QAAS,kBACPL,EAAY,CACVb,KACAS,OACAE,SACA,EACH,kDAIH,uBAAMb,UAAU,QAAQqB,MAAO,CAAEC,SAAU,UAAW,UACnDT,EAAK,+BAKhB,CCnCA,SAASU,EAAUb,GACjB,MAAyDA,EAAjDc,aAAK,MAAG,GAAE,IAAuCd,EAArCK,mBAAW,MAAGC,SAASC,UAAS,EAEpD,OAAKO,EAAMC,OAKT,qBAAKzB,UAAU,QAAO,SACnBwB,EAAME,KAAI,SAACC,GAAI,OACd,cAAClB,EAAS,2BAAmBkB,GAAI,IAAEZ,YAAaA,IAAhCY,EAAKzB,GAAyC,MAN3D,6CAUX,CCjBA,SAAS0B,EAAKlB,GACZ,MAA4DA,EAApDmB,gBAAQ,MAAG,EAAC,IAAwCnB,EAAtCoB,oBAAY,MAAGd,SAASC,UAAS,EACvD,OACE,sBAAKjB,UAAU,gCAAgCoB,QAASU,EAAa,UACnE,mBAAG9B,UAAU,iBAAgB,2BAC5B6B,EAAW,sBAAM7B,UAAU,gBAAe,SAAE6B,IAAmB,KAChE,sBAAM7B,UAAU,oBAGtB,CCTA,SAAS+B,EAAWrB,GAClB,IACER,EAOEQ,EAPFR,GACAS,EAMED,EANFC,KACAE,EAKEH,EALFG,MACAgB,EAIEnB,EAJFmB,SAAS,EAIPnB,EAHFsB,wBAAgB,MAAGhB,SAASC,UAAS,IAGnCP,EAFFuB,oBAAY,MAAGjB,SAASC,UAAS,IAE/BP,EADFwB,mBAAW,MAAGlB,SAASC,UAAS,EAElC,OACE,qBAAIjB,UAAU,kBAAiB,UAC5BW,EAAI,KAAIkB,EAAQ,KACjB,mBACE7B,UAAU,iCACVoB,QAAS,kBAAMc,EAAYhC,EAAG,EAAC,oBAIjC,mBACEF,UAAU,iCACVoB,QAAS,kBAAMa,EAAa/B,EAAG,EAAC,iBAIjCW,EAAQgB,EAAQ,uBACjB,sBAAM7B,UAAU,oBAAoBoB,QAAS,kBAAMY,EAAiB9B,EAAG,EAAC,SACtE,mBAAGF,UAAU,+BAA8B,uBAInD,CC7BA,SAASmC,EAAWzB,GAClB,MAMIA,EALF0B,aAAK,MAAG,GAAE,IAKR1B,EAJFoB,oBAAY,MAAGd,SAASC,UAAS,IAI/BP,EAHFsB,wBAAgB,MAAGhB,SAASC,UAAS,EACrCgB,EAEEvB,EAFFuB,aACAC,EACExB,EADFwB,YAGIG,EAAaD,EAAME,QAAO,SAACC,EAAKC,GACpC,OAAOD,EAAMC,EAAG3B,MAAQ2B,EAAGX,QAC7B,GAAG,GAEH,OACE,qBAAI7B,UAAU,yBAAwB,UACpC,oBAAIA,UAAU,yBAAwB,wDACrCoC,EAAMX,OACLW,EAAMV,KAAI,SAACC,GAAI,OACb,cAACI,EAAU,2BAELJ,GAAI,IACRK,iBAAkBA,EAClBC,aAAcA,EACdC,YAAaA,IAJRP,EAAKzB,GAKV,IAGJ,oBAAIF,UAAU,kBAAiB,uFAGjC,qBAAIA,UAAU,yBAAwB,mGACnBqC,EAAU,0BAE7B,oBAAIrC,UAAU,kBAAiB,SAC7B,wBAAQA,UAAU,gBAAe,gEAEnC,mBAAGA,UAAU,8BAA8BoB,QAASU,EAAa,qBAKvE,CCzCA,SAASW,EAAM/B,GACb,MAAqDA,EAA9CC,YAAI,MAAG,GAAE,IAAqCD,EAAnCgC,kBAAU,MAAG1B,SAASC,UAAS,EAWjD,OATA0B,qBAAU,WACR,IAAMC,EAAUC,WAAWH,EAAY,KAEvC,OAAO,WACLI,aAAaF,EACf,CAEF,GAAG,CAACjC,IAGF,qBAAKT,GAAG,kBAAiB,SACvB,sBAAKF,UAAU,QAAO,UAAEW,EAAI,0GAGlC,CCVA,SAASoC,IACP,MAA0BC,mBAAS,IAAG,mBAA/BxB,EAAK,KAAEyB,EAAQ,KACtB,EAA8BD,oBAAS,GAAK,mBAArCE,EAAO,KAAEC,EAAU,KAC1B,EAA0BH,mBAAS,IAAG,mBAA/BZ,EAAK,KAAEgB,EAAQ,KACtB,EAAsCJ,oBAAS,GAAM,mBAA9CK,EAAY,KAAEC,EAAa,KAClC,EAAkCN,mBAAS,IAAG,mBAAvCO,EAAS,KAAEC,EAAY,KA6DxB1B,EAAe,WACnBwB,GAAeD,EACjB,EAmBA,OAbAV,qBAAU,WACRc,MClFY,yCDkFG,CACbC,QAAS,CACPC,cCtFQC,yCDyFTC,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAM,IAClCF,MAAK,SAACG,GACLA,EAAKC,UAAYhB,EAASe,EAAKC,UAC/Bd,GAAW,EACb,GACJ,GAAG,IAGD,uBAAMnD,UAAU,oBAAmB,UACjC,cAAC4B,EAAI,CAACC,SAAUO,EAAMX,OAAQK,aAAcA,IAC3CoB,EACC,cAAC1C,EAAS,IAEV,cAACe,EAAS,CACRC,MAAOA,EACPT,YAxFY,SAACY,GACnB,IAAMuC,EAAY9B,EAAM+B,WAAU,SAACC,GAAS,OAAKA,EAAUlE,KAAOyB,EAAKzB,EAAE,IAEzE,GAAIgE,EAAY,EAAG,CACjB,IAAMG,EAAO,2BACR1C,GAAI,IACPE,SAAU,IAEZuB,EAAS,GAAD,mBAAKhB,GAAK,CAAEiC,IACtB,MACmBjC,EAAMV,KAAI,SAAC0C,EAAWE,GACrC,OAAIA,IAAUJ,EACL,2BACFE,GAAS,IACZvC,SAAUuC,EAAUvC,SAAW,IAG1BuC,CAEX,IAEFZ,EAAa7B,EAAKhB,KACpB,EAmEQmB,aAAcA,IAGjBuB,GACC,cAAClB,EAAU,CACTC,MAAOA,EACPN,aAAcA,EACdE,iBAxEiB,SAACuC,GACxB,IAAMC,EAAWpC,EAAMqC,QAAO,SAAC9C,GAAI,OAAKA,EAAKzB,KAAOqE,CAAM,IAC1DnB,EAASoB,EACX,EAsEQvC,aApEa,SAACsC,GACpB,IAAMC,EAAWpC,EAAMV,KAAI,SAACc,GAC1B,GAAIA,EAAGtC,KAAOqE,EAAQ,CACpB,IAAMG,EAAclC,EAAGX,SAAW,EAClC,OAAO,2BACFW,GAAE,IACLX,SAAU6C,GAEd,CACE,OAAOlC,CAEX,IACAY,EAASoB,EACX,EAwDQtC,YAtDY,SAACqC,GACnB,IAAMC,EAAWpC,EAAMV,KAAI,SAACc,GAC1B,GAAIA,EAAGtC,KAAOqE,EAAQ,CACpB,IAAMG,EAAclC,EAAGX,SAAW,EAClC,OAAO,2BACFW,GAAE,IACLX,SAAU6C,GAAe,EAAIA,EAAc,GAE/C,CACE,OAAOlC,CAEX,IACAY,EAASoB,EACX,IA6CKjB,GAAa,cAACd,EAAK,CAAC9B,KAAM4C,EAAWb,WAvCvB,WACjBc,EAAa,GACf,MAwCF,CE3GemB,MAVf,WACE,OACE,qCACE,cAAC5E,EAAM,IACP,cAACgD,EAAI,IACL,cAAC1C,EAAM,MAGb,ECPAuE,IAASC,OACP,cAAC,IAAMC,WAAU,UACf,cAAC,EAAG,MAENC,SAASC,eAAe,Q","file":"static/js/main.381e71c4.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <nav className='green darken-1'>\r\n            <div className='nav-wrapper'>\r\n                <a href='/' className='brand-logo'>\r\n                    React Shop\r\n                </a>\r\n                <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n                    <li>\r\n                        <a\r\n                            href='https://github.com/michey85/react-shop'\r\n                            target='_blank'\r\n                            rel='noreferrer'\r\n                        >\r\n                            Repo\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport { Header };\r\n","function Footer() {\r\n    return (\r\n        <footer className='page-footer green lighten-4'>\r\n            <div className='footer-copyright'>\r\n                <div className='container'>\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a\r\n                        className='grey-text text-lighten-4 right'\r\n                        href='https://github.com/michey85/react-shop'\r\n                        rel='noreferrer'\r\n                        target='_blank'\r\n                    >\r\n                        Repo\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport { Footer };\r\n","function Preloader() {\r\n    return (\r\n        <div className='progress'>\r\n            <div className='indeterminate'></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Preloader };\r\n","function GoodsItem(props) {\r\n  const {\r\n    id,\r\n    name,\r\n    description,\r\n    price,\r\n    full_background,\r\n    addToBasket = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-image\">\r\n        <img src={full_background} alt={name} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <span className=\"card-title\">{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button\r\n          className=\"btn\"\r\n          onClick={() =>\r\n            addToBasket({\r\n              id,\r\n              name,\r\n              price,\r\n            })\r\n          }\r\n        >\r\n          Купить\r\n        </button>\r\n        <span className=\"right\" style={{ fontSize: \"1.8rem\" }}>\r\n          {price} руб.\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsItem };\r\n","import { useState } from \"react\";\r\nimport { GoodsItem } from \"./GoodsItem\";\r\n\r\nfunction GoodsList(props) {\r\n  const { goods = [], addToBasket = Function.prototype } = props;\r\n\r\n  if (!goods.length) {\r\n    return <h3>Nothing here</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"goods\">\r\n      {goods.map((item) => (\r\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket}/>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsList };\r\n","function Cart(props) {\r\n  const { quantity = 0, handleBasket = Function.prototype } = props;\r\n  return (\r\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasket}>\r\n      <i className=\"material-icons\">shopping_cart</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n      <span className=\"cart-quantity\"></span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Cart };\r\n","function BasketItem(props) {\r\n  const {\r\n    id,\r\n    name,\r\n    price,\r\n    quantity,\r\n    removeFromBasket = Function.prototype,\r\n    incrQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n  return (\r\n    <li className=\"collection-item\">\r\n      {name} x{quantity} =\r\n      <i\r\n        className=\"material-icons basket-quantity\"\r\n        onClick={() => decQuantity(id)}\r\n      >\r\n        remove\r\n      </i>\r\n      <i\r\n        className=\"material-icons basket-quantity\"\r\n        onClick={() => incrQuantity(id)}\r\n      >\r\n        add\r\n      </i>\r\n      {price * quantity} руб.\r\n      <span className=\"secondary-content\" onClick={() => removeFromBasket(id)}>\r\n        <i className=\"material-icons basket-delete\">close</i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { BasketItem };\r\n","import { BasketItem } from \"./BasketItem\";\r\n\r\nfunction BasketList(props) {\r\n  const {\r\n    order = [],\r\n    handleBasket = Function.prototype,\r\n    removeFromBasket = Function.prototype,\r\n    incrQuantity,\r\n    decQuantity,\r\n  } = props;\r\n\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price * el.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className=\"collection basket-list\">\r\n      <li className=\"collection-item active\">Корзина</li>\r\n      {order.length ? (\r\n        order.map((item) => (\r\n          <BasketItem\r\n            key={item.id}\r\n            {...item}\r\n            removeFromBasket={removeFromBasket}\r\n            incrQuantity={incrQuantity}\r\n            decQuantity={decQuantity}\r\n          />\r\n        ))\r\n      ) : (\r\n        <li className=\"collection-item\">Корзина пуста</li>\r\n      )}\r\n\r\n      <li className=\"collection-item active\">\r\n        Общая стоимость:{totalPrice} руб.\r\n      </li>\r\n      <li className=\"collection-item\">\r\n        <button className=\"btn btn-small\">Оформить</button>\r\n      </li>\r\n      <i className=\"material-icons basket-close\" onClick={handleBasket}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport { BasketList };\r\n","import { useEffect } from \"react\";\r\n\r\nfunction Alert(props) {\r\n  const {name = \"\", closeAlert = Function.prototype} = props;\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [name]);\r\n\r\n  return (\r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\">{name} добавлен в корзину</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Alert };\r\n","import { useEffect, useState } from \"react\";\r\nimport { Preloader } from \"./Preloader\";\r\n\r\nimport { API_KEY, API_URL } from \"../config\";\r\nimport { GoodsList } from \"./GoodsList\";\r\nimport { Cart } from \"./Cart\";\r\nimport { BasketList } from \"./BasketList\";\r\nimport { Alert } from \"./Alert\";\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState(\"\");\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n    }\r\n    setAlertName(item.name);\r\n  };\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const newOrder = order.filter((item) => item.id !== itemId);\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const incrQuantity = (itemId) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === itemId) {\r\n        const newQuantity = el.quantity + 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const decQuantity = (itemId) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === itemId) {\r\n        const newQuantity = el.quantity - 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const handleBasket = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertName(\"\");\r\n  };\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.featured && setGoods(data.featured);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container content\">\r\n      <Cart quantity={order.length} handleBasket={handleBasket} />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <GoodsList\r\n          goods={goods}\r\n          addToBasket={addToBasket}\r\n          handleBasket={handleBasket}\r\n        />\r\n      )}\r\n      {isBasketShow && (\r\n        <BasketList\r\n          order={order}\r\n          handleBasket={handleBasket}\r\n          removeFromBasket={removeFromBasket}\r\n          incrQuantity={incrQuantity}\r\n          decQuantity={decQuantity}\r\n        />\r\n      )}\r\n\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport { Shop };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = \"https://fortniteapi.io/v1/shop?lang=ru\";\r\n\r\nexport { API_KEY, API_URL };\r\n","import { Header } from \"./components/Header\";\r\nimport { Footer } from \"./components/Footer\";\r\nimport { Shop } from \"./components/Shop\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Shop />\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}